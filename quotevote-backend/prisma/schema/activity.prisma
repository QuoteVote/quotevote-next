// Activity model

model Activity {
  id           String            @id @default(auto()) @map("_id") @db.ObjectId
  userId       String            @db.ObjectId
  postId       String?           @db.ObjectId
  activityType ActivityEventType
  content      String?
  voteId       String?           @db.ObjectId
  commentId    String?           @db.ObjectId
  quoteId      String?           @db.ObjectId
  created      DateTime          @default(now())

  // Relations
  user    User     @relation(fields: [userId], references: [id])
  post    Post?    @relation(fields: [postId], references: [id])
  vote    Vote?    @relation("VoteActivity", fields: [voteId], references: [id])
  comment Comment? @relation("CommentActivity", fields: [commentId], references: [id])
  quote   Quote?   @relation("QuoteActivity", fields: [quoteId], references: [id])

  @@index([userId])
  @@index([postId])
  @@index([activityType])
  @@index([created])
  @@map("activities")
}
